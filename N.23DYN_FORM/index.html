<!DOCTYPE html>
<html>
<head>
<title>N.27 Домашнее задание DYN_FORM</title>
<meta charset="utf-8">
<style>


  label {
    display: block;
  }

  .error input,
  .error textarea {
    border: 1px solid red;
  }

  .error {
    color: red;
  }
</style>

</head>

<body>
  <form id="form1"  onsubmit="validate(form1);return false">
    <table>
    <tr><td>Разработчики:</td><td><input type='text' name='author' style='width: 453px'></td></tr>
    <div id="error"></div>
    <tr><td>Название сайта:</td><td><input type='text' name='sitemap' style='width: 453px'></td></tr>
    <tr><td>URL сайта:</td><td><input type='text' name='siteurl' style='width: 300px'></td></tr>
    <tr><td>Дата запуска сайта:</td><td><input type='text' name='startdate' style='width: 80px'><div id="error"></div></td></tr>
    <tr><td>Посетителей в сутки:</td><td><input type='number' min=0 name='visitors' style='width: 80px'><div id="error"></div></td></tr>
    <tr><td>E-mail для связи:</td><td><input type='text' name='email' style='width: 200px'></td></tr>
    <tr><td>Рубрика каталога:</td><td style='padding-left: 1px'>
      <select name='division' style='width: 204px; margin-left: 2px'>
      <option value=1>здоровье</option>
      <option value=2>домашний уют</option>
      <option value=3 selected>бытовая техника</option>
      </select>
    </td></tr>
    <tr><td>Размещение:</td><td style='padding: 2px 0 2px 0'>
      <input type='radio' name='public' value=1><span class='SRadio8a'>бесплатное</span>
      <input type='radio' name='public' value=2><span class='SRadio8a'>платное</span>
      <input type='radio' name='public' value=3><span class='SRadio8a'>VIP</span>
    </td></tr>
    <tr><td style='padding: 2px 0 3px 3px'>Разрешить&nbsp;отзывы:</td><td><input type='checkbox' name='comments'></td></tr>
    <tr><td colspan=2>Описание сайта:<br />
    <textarea name='memo' style='width: 608px; height: 50px'></textarea></td></tr>
    <tr><td><input type='submit' value='Опубликовать'></td><td></td></tr>
    </table>
    </form>
    
  <script>
    "use strict";

    function showError(container, errorMessage) {
      container.className = 'error';
      var msgElem = document.createElement('span');
      msgElem.className = "error-message";
      msgElem.innerHTML = errorMessage;
      container.appendChild(msgElem);
    }

    function resetError(container) {
      container.className = '';
      if (container.lastChild.className == "error-message") {
        container.removeChild(container.lastChild);
      }
    }

    function validate(form) {
      var elems = form.elements;


      resetError(elems.author.parentNode);
      if (!elems.author.value) {
        showError(elems.author.parentNode, ' Вы не указали значения!');
      }

      //resetError(elems.public.parentNode);

      if (!elems.public.value) {
        //alert("ddd");
        showError(elems.public, ' Вы не указали значения!');
      }     
    }



  </script>


</body>
</html>
